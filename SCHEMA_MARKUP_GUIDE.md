# SEO Schema Markup Guide - Happy Home Care

## Overview

This guide explains how to implement comprehensive JSON-LD schema markup across the Happy Home Care website. Schema markup helps search engines understand your content and enables rich results (featured snippets, rich cards, etc.).

All schema generation is centralized in `/lib/schema.ts` and injected via the `SchemaMarkup` component.

## Quick Start

### Root Layout (Already Configured)

The main layout automatically includes all Organization, MedicalBusiness, and general schemas:

```tsx
// app/layout.tsx
<head>
  <SchemaMarkup pathname="/" />
</head>
```

### Using on Individual Pages

For any page, import and use the SchemaMarkup component:

```tsx
import SchemaMarkup from "@/components/SchemaMarkup";

export default function ServicePage() {
  return (
    <main>
      <SchemaMarkup pathname="/services/home-care" />
      {/* Rest of page content */}
    </main>
  );
}
```

The component automatically detects the pathname and generates appropriate schemas.

## Available Schema Types

### 1. Organization Schema

**What it does:** Establishes your company identity, location, contact info, and reputation.

**Generated by:** `generateOrganizationSchema()`

**Includes:**
- Company name, URL, logo
- Contact email and phone
- Physical address
- Social media profiles
- Aggregate rating (4.9/5, 127 reviews)
- Founding date and operating areas

**Rich Results:** Google Knowledge Panel, breadcrumbs

**Auto-included on:** All pages

### 2. Local Business Schema

**What it does:** Marks up location-specific information for each service area.

**Generated by:** `generateLocalBusinessSchema(location)`

**Includes:**
- Location name and address
- Service area details
- Coordinates (for maps)
- Hours of operation
- Local rating and reviews

**Rich Results:** Local pack, Google Maps

**Usage:**
```tsx
import { generateLocalBusinessSchema } from "@/lib/schema";

const schema = generateLocalBusinessSchema(locations[0]);
```

### 3. Medical Business Schema

**What it does:** Declares medical specialties and services for healthcare context.

**Generated by:** `generateMedicalBusinessSchema()`

**Includes:**
- Medical specialties (Geriatric Medicine, Nursing, etc.)
- Available services
- Healthcare reporting system (VA Community Care Network)
- Service areas

**Rich Results:** Medical knowledge panels

**Auto-included on:** All pages

### 4. Service Schema

**What it does:** Details individual care services with booking capability.

**Generated by:** `generateServiceSchema(service)`

**Includes:**
- Service name and description
- Provider information
- Available in multiple areas
- Booking/contact action
- Service features

**Rich Results:** Service cards in search results

**Auto-included on:** `/services` and `/services/[slug]` pages

**Manual usage:**
```tsx
<SchemaMarkup pathname="/services/skilled-nursing" />
```

### 5. FAQ Schema

**What it does:** Creates a structured FAQ for featured snippet eligibility.

**Generated by:** `generateFAQSchema()`

**Questions covered:**
1. What types of home care services?
2. Is service available 24/7?
3. What areas are served?
4. Do you offer free assessments?
5. Are caregivers licensed and insured?

**Rich Results:** FAQ rich results, featured snippets

**Auto-included on:** Home page (`/`), About (`/about`), Contact (`/contact`)

### 6. Review & Rating Schemas

**Aggregate Rating:**
- `generateAggregateRatingSchema()` - 4.9/5 rating, 127 reviews
- Auto-included on all pages

**Individual Reviews:**
- `generateReviewSchema(testimonial)` - Single review markup
- `generateAllReviewsSchema()` - All testimonials as review schema

**Rich Results:** Star ratings, review snippets

**Auto-included on:** Home page and About page

### 7. Breadcrumb Schema

**What it does:** Shows page hierarchy for improved navigation and SERP appearance.

**Generated by:** `generateBreadcrumbSchema(breadcrumbs)`

**Helper:** `getBreadcrumbsForPath(pathname)`

**Routes covered:**
- `/services` → `/services/[slug]`
- `/locations` → `/locations/[slug]`
- `/about`, `/contact`, `/careers`

**Rich Results:** Breadcrumb navigation in search results

**Auto-included on:** All pages

### 8. HowTo Schema

**What it does:** Step-by-step guide for getting started with care services.

**Generated by:** `generateHowToSchema()`

**Steps:**
1. Schedule your free assessment
2. Create personalized care plan
3. Match with caregivers
4. Start care services

**Rich Results:** How-to cards, featured snippets

**Auto-included on:** Home page (`/`) and About page (`/about`)

### 9. Contact Point Schema

**What it does:** Multiple contact methods for customers.

**Generated by:** `generateContactPointSchema()`

**Includes:**
- Phone and email
- Service areas
- Hours available
- Language support

**Auto-included on:** All pages

### 10. Person Schema (Team Pages)

**What it does:** Mark up team members with credentials and roles.

**Generated by:** `generatePersonSchema(name, title, bio, image)`

**Usage:**
```tsx
import { generatePersonSchema } from "@/lib/schema";

const schema = generatePersonSchema(
  "Jane Smith",
  "Lead Care Coordinator",
  "15 years experience in geriatric care",
  "/team/jane-smith.jpg"
);

// Use in custom component
<script type="application/ld+json">
  {JSON.stringify(schema)}
</script>
```

### 11. Offer Schema (Promotions)

**What it does:** Mark special promotions or service offerings.

**Generated by:** `generateOfferSchema(title, description, priceRange, validUntil)`

**Usage:**
```tsx
import { generateOfferSchema } from "@/lib/schema";

const schema = generateOfferSchema(
  "Free In-Home Assessment",
  "Schedule your free assessment today",
  "Free",
  "2025-12-31"
);
```

## Implementation Examples

### Services Page (`/services` or `/services/[slug]`)

```tsx
// app/services/page.tsx
import SchemaMarkup from "@/components/SchemaMarkup";
import { usePathname } from "next/navigation";

export default function ServicesPage() {
  const pathname = usePathname();

  return (
    <main>
      <SchemaMarkup pathname={pathname} />
      {/* Services content */}
    </main>
  );
}
```

Auto-generates:
- Service schemas for each service
- Breadcrumb schema
- Organization schema

### Location Page (`/locations/[slug]`)

```tsx
// app/locations/[slug]/page.tsx
import SchemaMarkup from "@/components/SchemaMarkup";
import { usePathname } from "next/navigation";

export default function LocationPage() {
  const pathname = usePathname();

  return (
    <main>
      <SchemaMarkup pathname={pathname} />
      {/* Location content */}
    </main>
  );
}
```

Auto-generates:
- LocalBusiness schema for that location
- Breadcrumb schema
- Organization schema

### Custom Schema Bundle

For pages needing custom schemas:

```tsx
import SchemaMarkup from "@/components/SchemaMarkup";
import { generateFAQSchema, generateHowToSchema } from "@/lib/schema";

export default function CustomPage() {
  const customSchemas = [
    generateFAQSchema(),
    generateHowToSchema(),
  ];

  return (
    <main>
      <SchemaMarkup pathname="/custom" schemas={customSchemas} />
      {/* Content */}
    </main>
  );
}
```

## Automatic Path Detection

The `SchemaMarkup` component intelligently detects paths and includes appropriate schemas:

| Path | Schemas Included |
|------|-----------------|
| `/` | Org, MedicalBiz, Ratings, FAQ, HowTo, Reviews, Breadcrumb, ContactPoint |
| `/about` | Org, MedicalBiz, Ratings, FAQ, HowTo, Reviews, Breadcrumb |
| `/services` | Org, MedicalBiz, Services, Breadcrumb |
| `/services/[slug]` | Org, MedicalBiz, Service (specific), Breadcrumb |
| `/locations` | Org, MedicalBiz, LocalBusiness (all), Breadcrumb |
| `/locations/[slug]` | Org, MedicalBiz, LocalBusiness (specific), Breadcrumb |
| `/contact` | Org, MedicalBiz, FAQ, Breadcrumb, ContactPoint |
| Other | Org, MedicalBiz, Breadcrumb, ContactPoint |

## Validation & Testing

### Built-in Validation

```tsx
import { validateSchemaMarkup, validateAllSchemas } from "@/components/SchemaMarkup";
import { generateFAQSchema } from "@/lib/schema";

// Validate single schema
const schema = generateFAQSchema();
const { valid, errors } = validateSchemaMarkup(schema);

if (!valid) {
  console.error("Schema errors:", errors);
}

// Validate multiple schemas
const schemas = [/* ... */];
const { allValid, results } = validateAllSchemas(schemas);
```

### Google Rich Results Test

1. Visit: https://search.google.com/test/rich-results
2. Enter your website URL or paste HTML
3. Google will validate all schemas and show rich result previews

**Expected rich results:**
- FAQ pages
- Review snippets
- HowTo guides
- Breadcrumbs
- Local business information

### Structured Data Testing Tool

Visit: https://schema.org/validator

Paste your HTML source code and validate all JSON-LD schemas.

## SEO Benefits

### Rich Results Eligibility

**Your schemas unlock:**
- FAQ rich results (featured snippets)
- Review/rating snippets
- HowTo guides with steps
- Breadcrumb navigation
- Local business cards
- Organization knowledge panel

### Click-Through Rate Improvement

- Star ratings increase CTR by ~20%
- Rich results take up more SERP space
- Breadcrumbs improve user trust
- FAQ snippets drive question-based traffic

### Local SEO

- LocalBusiness schema helps Local Pack ranking
- Coordinates enable map integration
- Service areas improve geographic relevance
- Multiple locations expand reach

## Data Sources

All schema data comes from centralized content files:

- **Company info:** `contactInfo` in `lib/content-data.ts`
- **Services:** `services` array in `lib/content-data.ts`
- **Locations:** `locations` array in `lib/content-data.ts`
- **Testimonials:** `testimonials` array in `lib/content-data.ts`
- **Stats:** `stats` in `lib/content-data.ts`

Update these source files, and all schemas automatically reflect the changes.

## Updating Content

### Add a New Service

```tsx
// lib/content-data.ts
export const services = [
  // ... existing services
  {
    slug: "new-service",
    title: "New Service Name",
    shortDescription: "...",
    fullDescription: "...",
    icon: "icon-name",
    features: ["feature1", "feature2"],
  },
];
```

Service schema automatically generated on `/services/new-service`.

### Add a New Location

```tsx
// lib/content-data.ts
export const locations = [
  // ... existing locations
  {
    slug: "new-city",
    name: "New City",
    region: "Region Name",
    description: "...",
    zipCodes: ["92000"],
    neighborhoods: ["neighborhood1"],
    coordinates: { lat: 32.7157, lng: -117.1611 },
  },
];
```

LocalBusiness schema automatically generated on `/locations/new-city`.

### Add a New Testimonial

```tsx
// lib/content-data.ts
export const testimonials = [
  // ... existing testimonials
  {
    id: 7,
    quote: "Great service!",
    author: "John Doe",
    role: "Patient",
    location: "San Diego",
    rating: 5,
  },
];
```

Review schema automatically included on home and about pages.

## Performance Considerations

- Schemas are lightweight JSON-LD (most efficient format)
- Generated at build time (no runtime overhead)
- Minimal impact on page load
- No external API calls
- Fully static and cacheable

## Troubleshooting

### Schema Not Appearing

1. Check browser DevTools → View Page Source
2. Search for `<script type="application/ld+json">`
3. Verify pathname is correct
4. Ensure SchemaMarkup component is in `<head>` or before main content

### Validation Errors

1. Run through Google Rich Results Test
2. Check for required fields (name, url, address, etc.)
3. Verify JSON syntax (use `validateSchemaMarkup()`)
4. Check data in `lib/content-data.ts`

### Rating Not Showing

- Ensure `aggregateRating` has valid `ratingValue` and `ratingCount`
- Must be on real website (not localhost) for Google to show
- Takes 24-48 hours to appear in search results

## Resources

- [Schema.org Documentation](https://schema.org)
- [Google Structured Data Guide](https://developers.google.com/search/docs/appearance/structured-data)
- [Health/Medical Schema](https://schema.org/MedicalBusiness)
- [Local Business Schema](https://schema.org/LocalBusiness)
- [Rich Results Gallery](https://developers.google.com/search/docs/appearance/search-gallery)

## Next Steps

1. Deploy with `SchemaMarkup` in layout
2. Test homepage with Google Rich Results Test
3. Check Google Search Console for indexing
4. Monitor rankings for featured snippets
5. Add team member schemas when page is created
6. Update testimonials quarterly for fresh content
